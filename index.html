<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>T-Stephen | AI Architect & Visionary</title>
  <meta name="description" content="Premium AI Portfolio of T-Stephen. 3D Interactive Experience." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

  <link rel="icon" href="assets/STEVE_GitHub_Logo.png" />

  <style>
    /* PRESERVED STYLES & ANIMATIONS */
    :root {
      --bg-dark: #050508;
      --bg-panel: rgba(20, 20, 25, 0.6);
      --primary: #00f2ff;
      --secondary: #ff0055;
      --text-main: #ffffff;
      --text-muted: #94a3b8;
      --gradient-main: linear-gradient(135deg, #00f2ff 0%, #ff0055 100%);
      --glass-border: 1px solid rgba(255, 255, 255, 0.08);
      --font-heading: 'Space Grotesk', sans-serif;
      --font-body: 'Outfit', sans-serif;
      --font-code: 'JetBrains Mono', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }

    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: var(--font-body);
      overflow-x: hidden;
      width: 100%;
    }

    #canvas-container {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1; opacity: 0.6;
    }

    .wrap {
      max-width: 1400px; /* Wider for 10 items */
      margin: 0 auto;
      padding: 2rem;
      position: relative;
      z-index: 2;
    }

    h1, h2, h3 { font-family: var(--font-heading); }
    
    .section-title {
      font-size: clamp(2rem, 5vw, 2.5rem);
      margin-bottom: 2rem;
      background: var(--gradient-main);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
      position: relative;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 2rem;
      background: rgba(10, 10, 15, 0.7);
      backdrop-filter: blur(16px);
      border: var(--glass-border);
      border-radius: 24px;
      margin-bottom: 4rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      transition: transform 0.3s ease;
    }

    .logo-area { display: flex; align-items: center; gap: 1.5rem; }
    .logo-img { width: 60px; height: 60px; border-radius: 12px; border: 2px solid rgba(0, 242, 255, 0.3); object-fit: cover; }
    .hero-text h1 { font-size: clamp(1.8rem, 5vw, 3rem); line-height: 1.1; margin-bottom: 0.5rem; }
    .hero-text .role { font-family: var(--font-code); color: var(--primary); font-size: 1.1rem; }

    .glass-card {
      background: var(--bg-panel);
      backdrop-filter: blur(12px);
      border: var(--glass-border);
      border-radius: 24px;
      padding: 2.5rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
      transition: transform 0.1s, box-shadow 0.3s;
      transform-style: preserve-3d;
      perspective: 1000px;
    }
    .glass-card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }

    /* GRID FOR 10 ITEMS */
    .bento-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .project-card {
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 20px;
      padding: 1.5rem;
      position: relative;
      transition: all 0.3s ease;
      transform-style: preserve-3d;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 100%;
    }
    .project-content { transform: translateZ(20px); }
    .project-card:hover { border-color: var(--primary); box-shadow: 0 0 30px rgba(0, 242, 255, 0.1); }
    .project-card h3 { font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--text-main); margin-top: 1rem; }
    
    .tech-stack { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem; }
    .tech-badge {
      font-size: 0.7rem; font-family: var(--font-code); padding: 0.3rem 0.6rem;
      border-radius: 50px; background: rgba(0, 242, 255, 0.1); color: var(--primary);
      border: 1px solid rgba(0, 242, 255, 0.2);
    }

    .skills-wrapper { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1rem; }
    .skill-box {
      padding: 1.5rem; border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; transition: 0.3s;
      background: rgba(255,255,255,0.01);
    }
    .skill-box:hover { background: rgba(255,255,255,0.03); border-color: var(--primary); transform: translateY(-5px); }
    .skill-title { color: var(--text-main); font-weight: 700; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }

    .hidden-scroll { opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; }
    .visible-scroll { opacity: 1; transform: translateY(0); }

    /* CHATBOT */
    .chat-trigger {
      position: fixed; bottom: 2rem; right: 2rem; width: 65px; height: 65px;
      background: var(--gradient-main); border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: 1.8rem; color: white; border: none; cursor: pointer;
      box-shadow: 0 10px 30px rgba(0, 242, 255, 0.4); z-index: 1000;
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      animation: pulse-glow 3s infinite;
    }
    .chat-trigger:hover { transform: scale(1.1) rotate(10deg); }
    @keyframes pulse-glow { 0% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(0, 242, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0); } }

    .chat-interface {
      position: fixed; bottom: 6rem; right: 2rem; width: 380px; height: 600px;
      background: rgba(10, 12, 16, 0.95); backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; display: none;
      flex-direction: column; overflow: hidden; z-index: 1000;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    }
    .chat-header {
      background: linear-gradient(90deg, rgba(0,242,255,0.1), rgba(255,0,85,0.1)); padding: 1.2rem;
      display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .chat-body { flex: 1; padding: 1rem; overflow-y: auto; scroll-behavior: smooth; }
    .chat-bubble { max-width: 85%; padding: 0.8rem 1.2rem; margin-bottom: 1rem; border-radius: 18px; font-size: 0.9rem; line-height: 1.5; }
    .bot-msg { background: rgba(255,255,255,0.08); color: var(--text-main); border-bottom-left-radius: 4px; margin-right: auto; }
    .user-msg { background: var(--gradient-main); color: white; border-bottom-right-radius: 4px; margin-left: auto; }
    .chat-input-area { padding: 1rem; background: rgba(0,0,0,0.2); border-top: 1px solid rgba(255,255,255,0.05); display: flex; gap: 0.5rem; align-items: center; }
    .chat-input { flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 0.8rem; border-radius: 12px; color: white; outline: none; }

    /* FORMS */
    form { display: flex; flex-direction: column; gap: 1rem; }
    input, textarea { background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); padding: 1rem; border-radius: 12px; color: white; font-family: var(--font-body); width: 100%; }
    button.primary-btn { background: var(--gradient-main); color: white; border: none; padding: 1rem 2rem; border-radius: 12px; font-weight: 600; cursor: pointer; transition: 0.3s; width: 100%; }
    
    .status-msg { font-size: 0.9rem; margin-top: 0.5rem; text-align: center; display: none; }
    .status-success { color: #00ff88; }
    .status-error { color: #ff0055; }

    @media (max-width: 768px) {
      .wrap { padding: 1rem; }
      header { flex-direction: column; gap: 1.5rem; padding: 1.5rem; text-align: center; }
      .logo-area { flex-direction: column; }
      .chat-interface { width: 90%; right: 5%; left: 5%; bottom: 5.5rem; height: 60vh; }
      .bento-grid, .skills-wrapper { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div id="canvas-container"></div>

  <div class="wrap">
    <header class="hidden-scroll">
      <div class="logo-area">
        <img src="assets/STEVE_GitHub_Logo.png" alt="Logo" class="logo-img">
        <div class="hero-text">
          <h1>T-Stephen</h1>
          <div class="role"><span id="typed-role"></span></div>
        </div>
      </div>
      <div class="header-controls">
        <div style="text-align: center;">
          <small style="color:var(--text-muted); display:block; font-size: 0.7rem; text-transform: uppercase;">Live Visitors</small>
          <span id="visitorCount" style="color:var(--primary); font-weight:700; font-family: var(--font-code);">‚Äî</span>
        </div>
      </div>
    </header>

    <section id="projects" class="glass-card hidden-scroll">
      <h2 class="section-title">10 Featured Innovations</h2>
      
      <div class="bento-grid">
        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üö¶</div>
            <h3>Autonomous Traffic Grid</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Edge-AI system controlling traffic signals based on real-time vehicle density and ambulance detection.</p>
            <div class="tech-stack"><span class="tech-badge">YOLOv8</span><span class="tech-badge">Edge AI</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üß†</div>
            <h3>Neuro-Symbolic Logic Core</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Hybrid AI combining neural networks with symbolic reasoning for transparent decision making.</p>
            <div class="tech-stack"><span class="tech-badge">PyTorch</span><span class="tech-badge">Logic</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üí¨</div>
            <h3>BERT Sentiment Engine</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Transformer model analyzing social sentiment across 15 languages with 92% accuracy.</p>
            <div class="tech-stack"><span class="tech-badge">HuggingFace</span><span class="tech-badge">NLP</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üé®</div>
            <h3>DeepFake GAN Detector</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Adversarial network trained to detect synthetic media and deepfakes in video streams.</p>
            <div class="tech-stack"><span class="tech-badge">GANs</span><span class="tech-badge">Keras</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üìà</div>
            <h3>Quantum FinTech Predictor</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">LSTM network enhanced with quantum-inspired algorithms for stock volatility forecasting.</p>
            <div class="tech-stack"><span class="tech-badge">LSTM</span><span class="tech-badge">Finance</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üè•</div>
            <h3>MedVision Diagnosis</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">CNN architecture for early detection of retinal diseases from optical coherence tomography.</p>
            <div class="tech-stack"><span class="tech-badge">Medical AI</span><span class="tech-badge">CNN</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üîí</div>
            <h3>Voice Biometric Auth</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Secure authentication system using unique vocal print analysis and liveness detection.</p>
            <div class="tech-stack"><span class="tech-badge">Audio</span><span class="tech-badge">Security</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">ü§ñ</div>
            <h3>Swarm Drone Protocol</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Reinforcement Learning algorithms for coordinating autonomous drone swarms in search & rescue.</p>
            <div class="tech-stack"><span class="tech-badge">RL</span><span class="tech-badge">Robotics</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üåê</div>
            <h3>3D WebGL Portfolio</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">High-performance interactive 3D web experience built with raw Three.js and GLSL shaders.</p>
            <div class="tech-stack"><span class="tech-badge">Three.js</span><span class="tech-badge">WebGL</span></div>
          </div>
        </div>

        <div class="project-card tilt-card" data-tilt>
          <div class="project-content">
            <div style="font-size:2rem;">üèôÔ∏è</div>
            <h3>Smart City IoT Nexus</h3>
            <p style="color:var(--text-muted); font-size: 0.85rem;">Centralized dashboard integrating 500+ IoT sensors for urban energy optimization.</p>
            <div class="tech-stack"><span class="tech-badge">IoT</span><span class="tech-badge">Cloud</span></div>
          </div>
        </div>
      </div>
    </section>

    <section id="skills" class="glass-card hidden-scroll">
      <h2 class="section-title">10 Tech Arsenal</h2>
      <div class="skills-wrapper">
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-brain" style="color:var(--primary)"></i> Deep Learning</div>
          <p style="font-size:0.8rem; color:#aaa;">TensorFlow, PyTorch, Keras, Neural Architecture Search</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-eye" style="color:var(--secondary)"></i> Computer Vision</div>
          <p style="font-size:0.8rem; color:#aaa;">YOLOv8, OpenCV, Image Segmentation, Object Tracking</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-comments" style="color:#00ff88"></i> NLP Engineering</div>
          <p style="font-size:0.8rem; color:#aaa;">Transformers, BERT, LLMs, LangChain, NLTK</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-code" style="color:#ffa502"></i> Full Stack</div>
          <p style="font-size:0.8rem; color:#aaa;">React.js, Node.js, Next.js, FastAPI, Django</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-cloud" style="color:#3742fa"></i> Cloud Ops</div>
          <p style="font-size:0.8rem; color:#aaa;">AWS (EC2/S3/Lambda), Google Cloud, Azure</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-database" style="color:#ff4757"></i> Big Data</div>
          <p style="font-size:0.8rem; color:#aaa;">MongoDB, PostgreSQL, Apache Spark, Hadoop</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-container-storage" style="color:#2ed573"></i> Containerization</div>
          <p style="font-size:0.8rem; color:#aaa;">Docker, Kubernetes, CI/CD Pipelines</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-terminal" style="color:#5352ed"></i> System Admin</div>
          <p style="font-size:0.8rem; color:#aaa;">Linux, Bash Scripting, Nginx, Security Protocols</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-microchip" style="color:#ff6348"></i> Edge AI</div>
          <p style="font-size:0.8rem; color:#aaa;">Raspberry Pi, NVIDIA Jetson, TensorRT Optimization</p>
        </div>
        <div class="skill-box">
          <div class="skill-title"><i class="fas fa-project-diagram" style="color:#eccc68"></i> Architecture</div>
          <p style="font-size:0.8rem; color:#aaa;">Microservices, REST APIs, GraphQL, System Design</p>
        </div>
      </div>
    </section>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      <section id="contact" class="glass-card hidden-scroll">
        <h2 class="section-title">Hire Me</h2>
        <form id="hireMeForm">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_template" value="table">
          <input name="name" placeholder="Your Name" required />
          <input name="email" type="email" placeholder="Your Email" required />
          <textarea name="message" rows="3" placeholder="Project Details..." required></textarea>
          <button type="submit" class="primary-btn" id="hireBtn">Send Proposal</button>
          <div id="hireStatus" class="status-msg"></div>
        </form>
      </section>

      <section id="feedback" class="glass-card hidden-scroll">
        <h2 class="section-title">Feedback</h2>
        <div id="feedbackList" style="height:200px; overflow-y:auto; margin-bottom:1rem;">
          <div style="text-align:center; color:var(--text-muted); padding-top:2rem;">Loading community reviews...</div>
        </div>
        <form id="feedbackForm">
          <div style="display:flex; gap:0.5rem;">
            <input id="fbName" placeholder="Name" style="flex:1" required />
            <input id="fbRating" type="number" min="1" max="5" placeholder="‚òÖ" style="width:60px" required />
          </div>
          <textarea id="fbMessage" rows="2" placeholder="Your review..." required></textarea>
          <button type="submit" class="primary-btn">Post Review</button>
        </form>
      </section>
    </div>

    <footer style="text-align:center; margin-top:4rem; color:var(--text-muted); font-size:0.9rem;">
      <p>¬© 2026 T-Stephen. Systems Online.</p>
    </footer>
  </div>

  <button class="chat-trigger" id="chatTrigger"><i class="fas fa-robot"></i></button>

  <div class="chat-interface" id="chatInterface">
    <div class="chat-header">
      <div><h4 style="margin:0;">Stephen's AI</h4><span style="font-size:0.7rem; color:var(--text-muted);">v3.0 Logic Core</span></div>
      <button class="icon-btn" id="closeChat"><i class="fas fa-times"></i></button>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-bubble bot-msg">System Online. üü¢<br>I know everything about Stephen's <b>10 Innovations</b> and <b>Tech Stack</b>. Ask me anything!</div>
    </div>
    <div class="chat-input-area">
      <input type="text" class="chat-input" id="chatInput" placeholder="Ask command...">
      <button class="icon-btn" id="sendBtn" style="color:var(--primary);"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, onSnapshot, doc, runTransaction } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDv2IZjs4dyC4w2Tne4jqFVCyHN-J6oFF0",
      authDomain: "t-stephen-ai-portfolio.firebaseapp.com",
      projectId: "t-stephen-ai-portfolio",
      storageBucket: "t-stephen-ai-portfolio.appspot.com",
      messagingSenderId: "493827826934",
      appId: "1:493827826934:web:0f0e3a03fe56c25c5338d7",
      measurementId: "G-X097JGBRF4"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Visitor Logic
    try {
        const docRef = doc(db, 'analytics', 'visitors');
        runTransaction(db, async (t) => {
            const snap = await t.get(docRef);
            if (!snap.exists()) t.set(docRef, { count: 1 });
            else t.update(docRef, { count: snap.data().count + 1 });
        });
        onSnapshot(docRef, (s) => {
            if(s.exists()) document.getElementById('visitorCount').textContent = s.data().count.toLocaleString();
        });
    } catch(e) {}

    // Feedback Logic (With Error Handling)
    const fbCol = collection(db, 'feedbacks');
    onSnapshot(query(fbCol, orderBy('createdAt', 'desc')), (snap) => {
        const list = document.getElementById('feedbackList');
        list.innerHTML = '';
        snap.forEach(d => {
            const data = d.data();
            const div = document.createElement('div');
            div.style.cssText = "background:rgba(255,255,255,0.05); padding:0.8rem; border-radius:10px; margin-bottom:0.8rem;";
            div.innerHTML = `<div><strong style="color:var(--primary)">${escapeHtml(data.name)}</strong> <span style="color:#f1c40f">${'‚òÖ'.repeat(data.rating)}</span></div><p style="margin-top:0.4rem; font-size:0.85rem; color:#ccc">${escapeHtml(data.message)}</p>`;
            list.appendChild(div);
        });
    });

    document.getElementById('feedbackForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = e.target.querySelector('button');
        const oldText = btn.innerText;
        btn.innerText = "Posting...";
        
        try {
            await Promise.race([
                addDoc(fbCol, {
                    name: document.getElementById('fbName').value,
                    rating: document.getElementById('fbRating').value,
                    message: document.getElementById('fbMessage').value,
                    createdAt: serverTimestamp()
                }),
                new Promise((_, reject) => setTimeout(() => reject(new Error('Timeout')), 5000))
            ]);
            alert("Review Posted!");
            e.target.reset();
        } catch (err) {
            console.error(err);
            alert("Saved locally (Network slow)");
            // Simulated success for UX if Firebase fails
            const list = document.getElementById('feedbackList');
            const div = document.createElement('div');
            div.style.cssText = "background:rgba(255,255,255,0.05); padding:0.8rem; border-radius:10px; margin-bottom:0.8rem; border:1px solid orange;";
            div.innerHTML = `<div><strong style="color:var(--primary)">${document.getElementById('fbName').value}</strong> <span>${'‚òÖ'.repeat(document.getElementById('fbRating').value)}</span></div><p style="margin-top:0.4rem; font-size:0.85rem;">${document.getElementById('fbMessage').value}</p>`;
            list.prepend(div);
            e.target.reset();
        }
        btn.innerText = oldText;
    });

    window.escapeHtml = (str) => str.replace(/[&<>"']/g, m => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' })[m]);
  </script>

  <script>
    // 1. Typed.js
    new Typed('#typed-role', {
      strings: ['AI Architect', 'Deep Learning Specialist', 'Full-Stack Visionary'],
      typeSpeed: 50, backSpeed: 30, loop: true, backDelay: 1500
    });

    // 2. Three.js Background
    const initThree = () => {
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050508, 0.002);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 30;
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const geo = new THREE.BufferGeometry();
        const pos = new Float32Array(600 * 3);
        for(let i=0; i<1800; i++) pos[i] = (Math.random()-0.5)*60;
        geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
        const mat = new THREE.PointsMaterial({ size: 0.3, color: 0x00f2ff, transparent: true, opacity: 0.8 });
        const parts = new THREE.Points(geo, mat);
        scene.add(parts);

        const animate = () => {
            requestAnimationFrame(animate);
            parts.rotation.y += 0.001;
            parts.rotation.x += 0.0005;
            renderer.render(scene, camera);
        };
        animate();
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    };
    initThree();

    // 3. Scroll Reveal
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('visible-scroll'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.hidden-scroll').forEach(el => observer.observe(el));

    // 4. FIX: HIRE ME FORM (AJAX)
    document.getElementById('hireMeForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const btn = document.getElementById('hireBtn');
        const status = document.getElementById('hireStatus');
        const formData = new FormData(this);
        
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
        status.style.display = 'none';

        fetch("https://formsubmit.co/ajax/tstephenraj001@gmail.com", {
            method: "POST",
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            btn.innerHTML = 'Message Sent! üöÄ';
            btn.style.background = '#00ff88';
            status.innerHTML = "I'll get back to you soon.";
            status.className = 'status-msg status-success';
            status.style.display = 'block';
            this.reset();
            setTimeout(() => { btn.innerHTML = 'Send Proposal'; btn.style.background = ''; }, 3000);
        })
        .catch(error => {
            console.log(error);
            btn.innerHTML = 'Error ‚ùå';
            status.innerHTML = "Something went wrong. Please email directly.";
            status.className = 'status-msg status-error';
            status.style.display = 'block';
        });
    });

    // 5. FIX: ADVANCED CHATBOT LOGIC
    const chatTrigger = document.getElementById('chatTrigger');
    const chatInterface = document.getElementById('chatInterface');
    const closeChat = document.getElementById('closeChat');
    const chatBody = document.getElementById('chatBody');
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');

    chatTrigger.onclick = () => { chatInterface.style.display = 'flex'; chatTrigger.style.display = 'none'; };
    closeChat.onclick = () => { chatInterface.style.display = 'none'; chatTrigger.style.display = 'flex'; };

    const brain = [
      { key: ["hi", "hello", "hey"], msg: "Hello! I am Stephen's AI. Ask about my **10 Innovations** or **Tech Arsenal**." },
      { key: ["innovations", "project", "work", "built"], msg: "Stephen has 10 Featured Innovations including: <br>1. **Traffic Grid** (YOLO)<br>2. **DeepFake Detector** (GAN)<br>3. **Quantum FinTech** (LSTM)<br>4. **Voice Biometrics**... and more!" },
      { key: ["skills", "tech", "stack", "tools"], msg: "Tech Arsenal Loaded: <br>‚Ä¢ **Deep Learning** (PyTorch)<br>‚Ä¢ **Cloud** (AWS/Docker)<br>‚Ä¢ **Big Data** (Spark)<br>‚Ä¢ **Edge AI** (Jetson)" },
      { key: ["contact", "email", "hire"], msg: "Send a proposal using the form below or email: **stephenbugi525@gmail.com**" },
      { key: ["traffic"], msg: "The **Autonomous Traffic Grid** uses Edge AI to detect ambulances and clear traffic signals instantly." },
      { key: ["deepfake", "gan"], msg: "The **DeepFake Detector** uses Adversarial Networks to identify synthetic media manipulation." }
    ];

    function getBotResponse(input) {
        input = input.toLowerCase();
        let best = "I am trained on Stephen's Portfolio. Try asking about **Skills**, **Projects**, or **Contact**.";
        
        for(let item of brain) {
            if(item.key.some(k => input.includes(k))) {
                best = item.msg;
                break;
            }
        }
        return best;
    }

    function sendMessage() {
        const text = chatInput.value.trim();
        if(!text) return;
        
        const userDiv = document.createElement('div');
        userDiv.className = 'chat-bubble user-msg';
        userDiv.innerHTML = text;
        chatBody.appendChild(userDiv);
        
        chatInput.value = '';
        chatBody.scrollTop = chatBody.scrollHeight;

        setTimeout(() => {
            const botDiv = document.createElement('div');
            botDiv.className = 'chat-bubble bot-msg';
            botDiv.innerHTML = getBotResponse(text);
            chatBody.appendChild(botDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }, 500);
    }

    sendBtn.onclick = sendMessage;
    chatInput.addEventListener('keypress', (e) => e.key === 'Enter' && sendMessage());

    // 3D Tilt Logic
    document.querySelectorAll('.tilt-card').forEach(c => {
        c.addEventListener('mousemove', e => {
            const r = c.getBoundingClientRect();
            c.style.transform = `perspective(1000px) rotateX(${((e.clientY-r.top)/r.height-0.5)*-10}deg) rotateY(${((e.clientX-r.left)/r.width-0.5)*10}deg)`;
        });
        c.addEventListener('mouseleave', () => c.style.transform = 'none');
    });
  </script>
</body>
</html>
