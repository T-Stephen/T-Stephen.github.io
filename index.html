<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>T-Stephen | AI Innovator</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    header {
      text-align: center;
      padding: 2rem;
      background: #1a1a2e;
      animation: fadeIn 2s;
    }
    header img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin-bottom: 1rem;
    }
    header h1 {
      font-size: 2.5rem;
      color: #fddb3a;
      margin-bottom: 0.5rem;
    }
    header p {
      font-size: 1.2rem;
      color: #ffffffb0;
    }
    .projects, .feedback {
      max-width: 900px;
      margin: 2rem auto;
      background: #1f4068;
      border-radius: 15px;
      padding: 2rem;
      animation: slideIn 1.5s;
    }
    .projects h2, .feedback h2 {
      color: #00ffdd;
      text-align: center;
      margin-bottom: 1.5rem;
    }
    .project-item {
      margin: 1rem 0;
      background: #162447;
      padding: 1rem;
      border-radius: 10px;
      transition: transform 0.3s;
    }
    .project-item:hover { transform: scale(1.05); }
    footer {
      text-align: center;
      padding: 1rem;
      background: #1a1a2e;
      color: #aaa;
    }
    .chatbot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 300px;
      max-width: 90vw;
      background: #0f4c75;
      border-radius: 15px;
      padding: 1rem;
      display: none;
      flex-direction: column;
      z-index: 999;
    }
    .chatbot-header {
      font-weight: bold;
      margin-bottom: 0.5rem;
      text-align: center;
    }
    .chatbot-messages {
      flex: 1;
      max-height: 300px;
      overflow-y: auto;
      background: #1b262c;
      border-radius: 10px;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      color: #fff;
    }
    .chatbot input {
      width: 100%;
      padding: 0.5rem;
      border-radius: 10px;
      border: none;
      outline: none;
    }
    .chatbot-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #3282b8;
      color: white;
      padding: 0.8rem 1.2rem;
      border-radius: 50%;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 1000;
    }
    .toggle-mode {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #00ffdd;
      color: black;
      padding: 0.6rem 1rem;
      border-radius: 30px;
      border: none;
      cursor: pointer;
      z-index: 1000;
    }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    @keyframes slideIn { from {transform:translateY(50px);opacity:0;} to {transform:translateY(0);opacity:1;} }
  </style>
</head>
<body>
  <button class="toggle-mode" onclick="toggleMode()">üåô Toggle Mode</button>
  <header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Logo_TV_2015.png/600px-Logo_TV_2015.png" alt="T-Stephen Logo">
    <h1>Welcome to T-Stephen's AI Portfolio</h1>
    <p>B.Tech AI & Data Science Student | Aspiring Innovator</p>
  </header>

  <section class="projects">
    <h2>üöÄ My Projects</h2>
    <div class="project-item">
      <h3>Ambulance Detection Traffic Signal</h3>
      <p>Smart traffic system using YOLOv8 & OpenCV to prioritize emergency vehicles.</p>
    </div>
    <div class="project-item">
      <h3>Candidate-Elimination Algorithm</h3>
      <p>Classic ML algorithm for hypothesis space in Python.</p>
    </div>
    <div class="project-item">
      <h3>Decision Tree Classifier (ID3)</h3>
      <p>Interactive decision tree with data visualization.</p>
    </div>
  </section>

  <section class="feedback">
    <h2>‚≠ê Rate My Website</h2>
    <form id="feedback-form">
      <input type="text" id="name" placeholder="Your name" required /><br/><br/>
      <input type="number" id="rating" placeholder="Rating (1-5)" min="1" max="5" required /><br/><br/>
      <textarea id="message" placeholder="Your feedback" required></textarea><br/><br/>
      <button type="submit" style="background:#00ffdd;border:none;padding:0.6rem 1.5rem;border-radius:10px;cursor:pointer;">Submit Feedback</button>
    </form>
  </section>

  <footer>
    Visitors: <span id="visitor-count">Loading...</span> | &copy; 2025 T-Stephen
  </footer>

  <div class="chatbot" id="chatbot">
    <div class="chatbot-header">ü§ñ AI Chatbot</div>
    <div class="chatbot-messages" id="chatbot-messages"></div>
    <input type="text" id="chatbot-input" placeholder="Type your question..." onkeydown="if(event.key==='Enter')sendChat()"/>
  </div>
  <button class="chatbot-btn" onclick="toggleChatbot()">üí¨</button>

  <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDv2IZjs4dyC4w2Tne4jqFVCyHN-J6oFF0",
      authDomain: "t-stephen-ai-portfolio.firebaseapp.com",
      projectId: "t-stephen-ai-portfolio",
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const visitorRef = db.collection("visitors").doc("count");
    visitorRef.get().then(doc=>{
      if(doc.exists){
        let count = doc.data().count + 1;
        document.getElementById('visitor-count').innerText = count;
        visitorRef.update({count: count});
      }else{
        visitorRef.set({count:1});
        document.getElementById('visitor-count').innerText = 1;
      }
    });

    document.getElementById('feedback-form').addEventListener('submit', e=>{
      e.preventDefault();
      db.collection("feedbacks").add({
        name:document.getElementById('name').value,
        rating:document.getElementById('rating').value,
        message:document.getElementById('message').value,
        timestamp: new Date()
      }).then(()=>alert("Thank you for your feedback!"));
      e.target.reset();
    });

    function toggleMode(){
      document.body.classList.toggle('dark');
    }

    function toggleChatbot(){
      const bot=document.getElementById('chatbot');
      bot.style.display=bot.style.display==='flex'?'none':'flex';
    }

    function sendChat(){
      const input=document.getElementById('chatbot-input');
      const msg=input.value.trim();
      if(!msg)return;
      const box=document.getElementById('chatbot-messages');
      box.innerHTML+=`<div style="color:#00ffdd;">You: ${msg}</div>`;
      let response="ü§ñ I'm not sure about that.";
      const smartReplies={
        "hi":"Hello! I'm your assistant.",
        "your name":"I'm Stephen's smart chatbot!",
        "projects":"Stephen's projects: ambulance detection, candidate elimination, decision trees, and more.",
        "skills":"Stephen is skilled in Python, AI/ML, Web Dev, and Data Science.",
        "ai":"AI is revolutionizing industries. Stephen loves working on AI-based innovations!"
      };
      for(const key in smartReplies){
        if(msg.toLowerCase().includes(key))response=smartReplies[key];
      }
      setTimeout(()=>{box.innerHTML+=`<div style="color:#fff;">${response}</div>`;box.scrollTop=box.scrollHeight;},500);
      input.value="";
    }
  </script>
</body>
</html>
